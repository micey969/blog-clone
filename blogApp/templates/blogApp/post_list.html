{% extends 'blogApp/base.html' %}

{% block content %}
    <h1>Post</h1>
    <hr><br>

    {% for post in post_list %}
        <div class="card mb-3">
            <div class="card-header">
                <h3><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h3>
            </div>
            <div class="card-body">
                <p>{{ post.text | safe | truncatewords_html:30 }}</p>
                <a href="{% url 'post_detail' pk=post.pk %}">Comments: {{ post.approve_comments.count }}</a>
            </div>  
            <div class="card-footer text-muted">
                <p>By {{post.author}} - {{ post.date_published | date:"F j, Y"}}</p>
            </div>          
        </div>
    {% endfor %}

{% endblock%}